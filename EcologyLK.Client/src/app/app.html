<header class="main-header">
  <div class="logo">
    <a routerLink="/">
      <!-- Временный логотип -->
      <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-3.5-3.5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"
          fill="#28a745" />
      </svg>
      <span>Эко-Кабинет</span>
    </a>
  </div>

  <!-- Показываем навигацию, только если пользователь вошел -->
  @if (currentUser(); as user) {
  <nav class="main-nav">
    <a routerLink="/new-site" routerLinkActive="active-link">
      Новая Анкета
    </a>

    <a routerLink="/calendar" routerLinkActive="active-link">
      Календарь событий
    </a>
    <!-- TODO: Добавить ссылку на список площадок -->

    <!-- (1) --- Ссылки на Админ-панель --- -->
    @if (authService.hasRole('Admin')) {
    <a routerLink="/admin/users" routerLinkActive="active-link" class="admin-link">
      [Админ: Пользователи]
    </a>
    <a routerLink="/admin/clients" routerLinkActive="active-link" class="admin-link">
      [Админ: Клиенты]
    </a>
    <a routerLink="/admin/legal-acts" routerLinkActive="active-link" class="admin-link">
      [Админ: Справочник НПА]
    </a>
    <!-- (2) --- ДОБАВЛЕНА ССЫЛКА НА ПРАВИЛА --- -->
    <a routerLink="/admin/rules" routerLinkActive="active-link" class="admin-link">
      [Админ: Справочник Правил]
    </a>
    }
  </nav>

  <div class="user-profile">
    <span>{{ user.fullName }} ({{ user.email }})</span>
    <button (click)="logout()" class="logout-btn">Выйти</button>
  </div>
  } @else {
  <!-- Если не залогинен, показываем пустое место -->
  <div class="user-profile-guest">
    <span></span>
  </div>
  }
</header>

<main class="main-content">
  <!-- Здесь Angular будет отображать компоненты на основе URL -->
  <router-outlet />
</main>
