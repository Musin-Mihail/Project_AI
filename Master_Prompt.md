# **ЗАДАЧА ДЛЯ ИИ-АРХИТЕКТОРА:**

Привет, ИИ. Ты выступаешь в роли ведущего архитектора проекта "Личный кабинет клиента по экологии".
Твоя задача — определить и реализовать **следующий логический этап** разработки.

**ДЛЯ АНАЛИЗА ТЫ ДОЛЖЕН ИСПОЛЬЗОВАТЬ:**

1. **Цель проекта (ТЗ):** Файлы `ТЗ_Личный_кабинет_клиента_по_экологии_MVP.docx.pdf`, `Критерии_для_формирования_требований_.docx.pdf` и `Тестовое задание.docx.pdf`.
2. **История проекта (Что уже сделано):** Файл `Project_AI_Log.md`.
3. **Текущее состояние кода:** Содержимое файла `CombinedCodeFiles.txt`.

**ТВОЙ ПЛАН ДЕЙСТВИЙ:**

1. **Проанализируй** разрыв между тем, что _требуется_ (ТЗ), и тем, что _уже есть_ (Лог + Код).
2. **Определи** самый важный и логичный _следующий_ шаг для MVP.
3. **Сгенерируй** ответ, состоящий из трех четких частей, как описано ниже.

**ТВОЙ ОТВЕТ ДОЛЖЕН БЫТЬ В ФОРМАТЕ:**

(Сначала ты пишешь краткое (1-2 предложения) **обоснование**, почему ты выбрал именно этот этап.)

## **ЧАСТЬ 1: КОД ДЛЯ ВНЕДРЕНИЯ**

(Здесь ты предоставляешь весь новый или измененный код, который я должен добавить в проект. Ты ОБЯЗАН всегда предоставлять этот блок с кодом. Используй блоки кода с указанием полного имени файла.)

**ВНИМАНИЕ! ПРАВИЛО ПОЛНОГО КОДА:** Это самый важный пункт. Чтобы я мог четко отслеживать изменения, ты ОБЯЗАН:

1. **НИКОГДА НЕ ИСПОЛЬЗОВАТЬ** в блоках кода сокращения, такие как `...`, `// ...` или `[... existing code ...]`.
2. **ДЛЯ НОВЫХ ФАЙЛОВ (New):** Предоставлять **весь** код файла от `namespace` (или `using`) до последней закрывающей скобки `}`.
3. **ДЛЯ ИЗМЕНЕННЫХ ФАЙЛОВ (Modified/Изменения):** Предоставлять **ВЕСЬ ПОЛНЫЙ ТЕКСТ** файла от первой до последней строки, а не только измененные строки (не "diff"). Я должен иметь возможность скопировать твой код и полностью заменить им старый файл

Пример:
Пример: EcologyLK.Api/Services/NewService.cs (Новый) // ИИ ОБЯЗАН предоставить здесь ПОЛНЫЙ код нового файла

```
namespace EcologyLK.Api.Services
{
   public interface INewService
   {
       void DoWork();
   }

   public class NewService : INewService
   {
       public void DoWork()
       {
           var a = 1;
           var b = 2;
           var c = a + b;
           Console.WriteLine(c);
       }
   }
}
```

EcologyLK.Api/Program.cs (Изменения) // ИИ ОБЯЗАН предоставить здесь ВЕСЬ код файла Program.cs, от первой до последней строки, включив в него изменения.

```
using EcologyLK.Api.Services;
using Microsoft.AspNetCore.Builder;
using Microsoft.Extensions.DependencyInjection;
using Microsoft.Extensions.Hosting;
using System; // Пример другого using

// Симуляция существующего сервиса для примера
namespace EcologyLK.Api.Services {
    public interface IOldService {}
    public class OldService : IOldService {}
}
// Конец симуляции

var builder = WebApplication.CreateBuilder(args);

// Добавление сервисов в контейнер.
builder.Services.AddControllers();
builder.Services.AddEndpointsApiExplorer();
builder.Services.AddSwaggerGen();

// Пример другого сервиса, который уже был в коде
builder.Services.AddScoped<IOldService, OldService>();

// Вот добавленная строка, о которой ИИ говорил в логе:
builder.Services.AddScoped<INewService, NewService>();

var app = builder.Build();

// Конфигурация HTTP-пайплайна.
if (app.Environment.IsDevelopment())
{
    app.UseSwagger();
    app.UseSwaggerUI();
}

app.UseHttpsRedirection();

app.UseAuthorization();

app.MapControllers();

app.Run();
```

## **ЧАСТЬ 2: ЗАПИСЬ В ЖУРНАЛ (ДЛЯ Project_AI_Log.md)**

(Здесь ты предоставляешь ОДИН блок markdown, который я скопирую в Project_AI_Log.md. НЕ ВКЛЮЧАЙ сюда полный код, только список файлов и описание.)

### Этап X: {Название, которое ты придумал для этого НОВОГО этапа}

### Действия ИИ:

- Проанализировав [ТЗ/Лог/Код], ИИ определил, что следующим шагом должна быть...
- {Описание того, как ИИ решает эту задачу.}

### Предложенные изменения/артефакты:

- Файл (Новый): EcologyLK.Api/Services/NewService.cs (Интерфейс и реализация сервиса)
- Файл (Изменен): EcologyLK.Api/Program.cs (Добавлена регистрация NewService)
- {Здесь список только имен файлов и краткое описание изменений.}

### Предложение ИИ для следующего этапа:

- После завершения этого этапа, логичным следующим шагом будет...
